<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Array</title>
    <style>
        body{
            line-height: 24px;
        }
        h2,h4{
            margin:0;
        }
        h2{
            line-height: 40px;
        }
        h4{
            line-height: 30px;
        }
    </style>
</head>
<body>
    <pre>
            <h2>修改器方法</h2> --下面的这些方法会改变调用它们的对象自身的值：           
            <h4>Array.prototype.copyWithin() </h4> 在数组内部，将一段元素序列拷贝到另一段元素序列上，覆盖原有的值。
            <h4>Array.prototype.fill()</h4> 将数组中指定区间的所有元素的值，都替换成某个固定的值。
            <h4>Array.prototype.pop()</h4>删除数组的最后一个元素，并返回这个元素。
            <h4>Array.prototype.push()</h4>在数组的末尾增加一个或多个元素，并返回数组的新长度。
            <h4>Array.prototype.shift()</h4>删除数组的第一个元素，并返回这个元素。
            <h4>Array.prototype.unshift()</h4>在数组的开头增加一个或多个元素，并返回数组的新长度。
            <h4>Array.prototype.splice()</h4>在任意的位置给数组添加或删除任意个元素。
            <h4>Array.prototype.reverse()</h4>颠倒数组中元素的排列顺序，即原先的第一个变为最后一个，原先的最后一个变为第一个。
            <h4>Array.prototype.sort()</h4>对数组元素进行排序，并返回当前数组。

            <h2>访问方法</h2>下面的这些方法绝对不会改变调用它们的对象的值，只会返回一个新的数组或者返回一个其它的期望值。

            <h4>Array.prototype.concat()</h4>返回一个由当前数组和其它若干个数组或者若干个非数组值组合而成的新数组。
            <h4>Array.prototype.includes() </h4>判断当前数组是否包含某指定的值，如果是返回 true，否则返回 false。
            <h4>Array.prototype.join()</h4>连接所有数组元素组成一个字符串。
            <h4>Array.prototype.slice()</h4>抽取当前数组中的一段元素组合成一个新数组。
            <h4>Array.prototype.toSource()</h4> 返回一个表示当前数组字面量的字符串。遮蔽了原型链上的 Object.prototype.toSource() 方法。
            <h4>Array.prototype.toString()</h4>返回一个由所有数组元素组合而成的字符串。遮蔽了原型链上的 Object.prototype.toString() 方法。
            <h4>Array.prototype.toLocaleString()</h4>返回一个由所有数组元素组合而成的本地化后的字符串。遮蔽了原型链上的 Object.prototype.toLocaleString() 方法。
            <h4>Array.prototype.indexOf()</h4>返回数组中第一个与指定值相等的元素的索引，如果找不到这样的元素，则返回 -1。
            <h4>Array.prototype.lastIndexOf()</h4>返回数组中最后一个（从右边数第一个）与指定值相等的元素的索引，如果找不到这样的元素，则返回 -1。

            <h2>迭代方法</h2>在下面的众多遍历方法中，有很多方法都需要指定一个回调函数作为参数。在每一个数组元素都分别执行完回调函数之前，数组的length属性会被缓存在某个地方，所以，如果你在回调函数中为当前数组添加了新的元素，那么那些新添加的元素是不会被遍历到的。此外，如果在回调函数中对当前数组进行了其它修改，比如改变某个元素的值或者删掉某个元素，那么随后的遍历操作可能会受到未预期的影响。总之，不要尝试在遍历过程中对原数组进行任何修改，虽然规范对这样的操作进行了详细的定义，但为了可读性和可维护性，请不要这样做。

            <h4>Array.prototype.forEach()</h4>为数组中的每个元素执行一次回调函数。
            <h4>Array.prototype.entries() </h4>返回一个数组迭代器对象，该迭代器会包含所有数组元素的键值对。
            <h4>Array.prototype.every()</h4>如果数组中的每个元素都满足测试函数，则返回 true，否则返回 false。
            <h4>Array.prototype.some()</h4>如果数组中至少有一个元素满足测试函数，则返回 true，否则返回 false。
            <h4>Array.prototype.filter()</h4>将所有在过滤函数中返回 true 的数组元素放进一个新数组中并返回。
            <h4>Array.prototype.find() </h4>找到第一个满足测试函数的元素并返回那个元素的值，如果找不到，则返回 undefined。
            <h4>Array.prototype.findIndex() </h4>找到第一个满足测试函数的元素并返回那个元素的索引，如果找不到，则返回 -1。
            <h4>Array.prototype.keys() </h4>返回一个数组迭代器对象，该迭代器会包含所有数组元素的键。
            <h4>Array.prototype.values() </h4>返回一个数组迭代器对象，该迭代器会包含所有数组元素的值。
            <h4>Array.prototype.map()</h4>返回一个由回调函数的返回值组成的新数组。
            <h4>Array.prototype.reduce()</h4>从左到右为每个数组元素执行一次回调函数，并把上次回调函数的返回值放在一个暂存器中传给下次回调函数，并返回最后一次回调函数的返回值。
            <h4>Array.prototype.reduceRight()</h4>从右到左为每个数组元素执行一次回调函数，并把上次回调函数的返回值放在一个暂存器中传给下次回调函数，并返回最后一次回调函数的返回值。
            <h4>Array.prototype[@@iterator]() </h4>和上面的 values() 方法是同一个函数。


            Array.from() 方法从一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。
            Array.of() 方法创建一个具有可变数量参数的新数组实例，而不考虑参数的数量或类型。
            Array.isArray() 用于确定传递的值是否是一个 Array。（当检测Array实例时, Array.isArray 优于 instanceof,因为Array.isArray能检测iframes.）
    </pre>
    <script>
        var fruits = ['apple','banana','mongo']
        var fruitsOther = ['strawberry','grape']
        console.log('fruits', fruits)
        console.log('fruitsOther', fruitsOther)
        console.log('-------------------下面的这些方法  会  改变调用它们的对象自身的值：------------------------------------------=------------')
        console.log('------------copyWithin-------fruits.copyWithin(1)----------------------------------')
        fruits.copyWithin(1)
        console.log('fruits', fruits)
        console.log('------------fill------fruits.fill("orange",1)-----------------------------------')
        fruits.fill('orange',1)
        console.log('fruits', fruits)
        console.log('------------pop--------fruits.pop()---------------------------------')
        console.log(fruits.pop())
        console.log('fruits', fruits)
        console.log('------------push-----------fruits.push("banana")------------------------------')
        console.log(fruits.push('banana'))
        console.log('fruits', fruits)
        console.log('------------shift--------fruits.shift()---------------------------------')
        console.log(fruits.shift())
        console.log('fruits', fruits)
        console.log('------------unshift-----------fruits.unshift("mongo")------------------------------')
        console.log(fruits.unshift('mongo'))
        console.log('fruits', fruits)
        console.log('------------reverse-----------fruits.reverse()------------------------------')
        console.log(fruits.reverse())
        console.log('fruits', fruits)
        console.log('------------sort-----------fruits.sort()------------------------------')
        console.log(fruits.sort())
        console.log('fruits', fruits)
        console.log('------------splice-----------fruits.splice(1)------------------------------')
        console.log(fruits.splice(1))
        console.log('fruits', fruits)

        

        console.log('-------------------下面的这些方法  不会  改变调用它们的对象自身的值：------------------------------------------=------------')
        var fruits = ['apple','banana','mongo']
        console.log('重置fruits', fruits)
        console.log(`------------concat-------fruits.concat(fruitsOther)----------------------------------`)
        console.log(fruits.concat(fruitsOther))
        console.log('fruits', fruits)
        console.log(`------------includes-------ffruits.includes('banana')----------------------------------`)
        console.log(fruits.includes('banana'))
        console.log('fruits', fruits)
        console.log(`------------join-------ffruits.join('-')----------------------------------`)
        console.log(fruits.join('-'))
        console.log('fruits', fruits)
        console.log(`------------slice-------fruits.slice(1)----------------------------------`)
        console.log(fruits.slice(1))
        console.log('fruits', fruits)
        console.log(`------------indexOf-------fruits.indexOf('banana')----------------------------------`)
        console.log(fruits.indexOf('banana'))
        console.log('fruits', fruits)
        console.log(`------------lastIndexOf-------fruits.lastIndexOf('banana')----------------------------------`)
        console.log(fruits.lastIndexOf('banana'))
        console.log('fruits', fruits)
        console.log(`------------toSource-----------fruits.toSource()--------非标准----------------------`)
        console.log(`------------toString-----------fruits.toString()------------------------------`)
        console.log(fruits.toString())
        console.log('fruits', fruits)
        console.log(`------------toLocaleString-----------fruits.toLocaleString()------------------------------`)
        console.log(fruits.toLocaleString())
        console.log('fruits', fruits)



        console.log('------------Array.from()---------------------------------------')
        console.log(`字符串-------Array.from('hello')-----`)
        console.log(Array.from('hello'))
        console.log(`new Set------Array.from(set)-----`)
        const set = new Set(['foo', 'bar', 'baz', 'foo']);
        console.log(Array.from(set));
        //pollyfill
        if (!Array.isArray) {
            Array.isArray = function(arg) {
                return Object.prototype.toString.call(arg) === '[object Array]';
            };
        }


        console.log(`------------forEach------------------------------------------------`)
        fruits.forEach((item,index,arr)=>{
            console.log(item, index, arr)
        })
        console.log(`------------entries------------------------------------------------`)
        var ent = fruits.entries()
        console.log(ent)
        console.log(ent.next().value)
        console.log(ent.next().value)
        console.log(ent.next().value)
        console.log(ent.next().value)

        console.log(`------------every------------------------------------------------`)
        var everyResult = fruits.every(item=>{
            return typeof item === 'string'
        })
        console.log(everyResult)

        console.log(`------------some------------------------------------------------`)
        var someResult = fruits.some(item=>{
            return typeof item === 'number'
        })
        console.log(someResult)

        console.log(`------------filter------------------------------------------------`)
        var fruits1 = fruits.concat(fruitsOther).concat(['banana','orange'])
        console.log('fruits1', fruits1)
        var filterResult = fruits1.filter(item=>{
            return  item === 'banana'
        })
        console.log(filterResult)

        console.log(`------------find------------------------------------------------`)
        var findResult = fruits1.find(item=>{
            return  item === 'banana'
        })
        console.log(findResult)

        console.log(`------------findIndex------------------------------------------------`)
        var findIndexResult = fruits1.findIndex(item=>{
            return  item === 'banana'
        })
        console.log(findIndexResult)

        console.log(`------------keys------------------------------------------------`)
        var keysResult = fruits1.keys()
        console.log(keysResult)
        console.log(Array.from(keysResult))

        console.log(`------------values------------------------------------------------`)
        var valuesResult = fruits1.values()
        console.log(valuesResult)
        console.log(Array.from(valuesResult))

        console.log(`------------map------------------------------------------------`)
        var mapResult = fruits1.map(item=>{
            return  item + '_new'
        })
        console.log(mapResult)

        console.log(`------------reduce------------------------------------------------`)
        const array1 = [1, 2, 3, 4];
        console.log('array1', array1)
        const reducer = (accumulator, currentValue) => {
            console.log(accumulator, currentValue)
            return accumulator + currentValue;
        }
        console.log(array1.reduce(reducer));
        console.log(array1.reduce(reducer,5));

        // var mapResult = fruits1.reduce(item=>{
        //     return  item + '_new'
        // })
        // console.log(mapResult)



    </script>
    
</body>
</html>