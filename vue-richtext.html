<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>vue-html XSS注入</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <!-- <script src="./vue2-editor.js"></script> -->
    <script src="./tinymce-vue.min.js"></script>
</head>

<body>
    <div id="app">
        <h2>富文本 v-html</h2>
        <p v-html="richText"></p>
        <editor v-model="richText"></editor>

    </div>
    <script>
        new Vue({
            el: '#app',
            components: {
                'editor': Editor
            },
            data: {
                richText: `<div class="mod_title_context" style="margin: 0px 0px 17px; padding: 0px; overflow: hidden; line-height: 1.2; caret-color: #333333; color: #333333; font-family: -apple-system-font, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif; letter-spacing: 0.544px; text-size-adjust: auto;">
<p id="js_cmt_addbtn1" class="discuss_icon_tips tr" style="margin: 0px; padding: 0px; text-align: right; overflow: hidden; font-size: 15px;"><a id="js_cmt_write1" style="margin: 0px; padding: 0px; color: #576b95;"></a>写留言</p>
</div>
<ul id="js_cmt_list" class="discuss_list" style="margin: 0px; padding: 0px 0px 16px; font-size: 15px; list-style: none; caret-color: #333333; color: #333333; font-family: -apple-system-font, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif; letter-spacing: 0.544px; text-size-adjust: auto;">
<li id="cid4082091635725303834" class="js_comment_item discuss_item cid4082091635725303834" style="margin: 1.7em 0px 0px; padding: 0px 0px 0px 40px; position: relative;" data-elected="1" data-friend="0" data-content_id="4082091635725303834" data-hasreport="1">
<div class="discuss_opr" style="margin: 0px; padding: 0px; float: right; position: absolute; top: 0px; right: 0px;"><span class="media_tool_meta meta_praise js_comment_praise " style="margin: 0px; padding: 0px; outline: 0px; min-width: 3.5em; display: inline-block; text-align: right;" data-status="0" data-content-id="4082091635725303834" data-scene="0"><span class="Apple-converted-space">&nbsp;</span> <span class="praise_num" style="margin: 0px; padding: 0px; color: #576b95; display: inline-block; vertical-align: top; -webkit-user-select: none;">37<span class="Apple-converted-space">&nbsp;</span></span></span></div>
<div class="user_info" style="margin: 0px; padding: 0px; min-height: 20px; overflow: hidden;"><span class="nickname" style="margin: 0px; padding: 0px; display: inline-block; vertical-align: top; color: #727272; width: auto; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; overflow-wrap: normal; max-width: 9em;">yangna</span><img class="avatar" style="margin: 0px; padding: 0px; height: 32px !important; vertical-align: top; position: absolute; left: 0px; top: 5px; width: 32px; background-color: #cccccc; border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px;" src="http://wx.qlogo.cn/mmopen/Q3auHgzwzM5pu8nRbiasWaXF9pMNFSCqCRbwLP8T4KjMVvziaQz48mwR1DV7H5mjyicD7JmviaHXJkg5jPicI9Zt2Qw/96" /></div>
<div class="discuss_message" style="margin: 0px; padding: 0px; overflow-wrap: break-word; overflow: visible; line-height: 1.4; font-size: 16px;">
<div class="discuss_message_content" style="margin: 0px; padding: 0px; white-space: pre-wrap;">换位思考善待别人</div>
</div>
</li>
<li id="cid12472096827241398291" class="js_comment_item discuss_item cid12472096827241398291" style="margin: 1.7em 0px 0px; padding: 0px 0px 0px 40px; position: relative;" data-elected="1" data-friend="0" data-content_id="12472096827241398291" data-hasreport="1">
<div class="discuss_opr" style="margin: 0px; padding: 0px; float: right; position: absolute; top: 0px; right: 0px;"><span class="media_tool_meta meta_praise js_comment_praise " style="margin: 0px; padding: 0px; outline: 0px; min-width: 3.5em; display: inline-block; text-align: right;" data-status="0" data-content-id="12472096827241398291" data-scene="0"><span class="Apple-converted-space">&nbsp;</span> <span class="praise_num" style="margin: 0px; padding: 0px; color: #576b95; display: inline-block; vertical-align: top; -webkit-user-select: none;">35<span class="Apple-converted-space">&nbsp;</span></span></span></div>
<div class="user_info" style="margin: 0px; padding: 0px; min-height: 20px; overflow: hidden;"><span class="nickname" style="margin: 0px; padding: 0px; display: inline-block; vertical-align: top; color: #727272; width: auto; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; overflow-wrap: normal; max-width: 9em;">水至清则无鱼</span><img class="avatar" style="margin: 0px; padding: 0px; height: 32px !important; vertical-align: top; position: absolute; left: 0px; top: 5px; width: 32px; background-color: #cccccc; border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px;" src="http://wx.qlogo.cn/mmopen/317CKFCLaesyyYPb63RDnvpicmIn9UJzBgwtnibCkZ5s0ab70GDcmQMeBEEV9VfwZjX3AClSHIl0ePNnkKl9wUq42fhkCvmzZz/96" /></div>
<div class="discuss_message" style="margin: 0px; padding: 0px; overflow-wrap: break-word; overflow: visible; line-height: 1.4; font-size: 16px;">
<div class="discuss_message_content" style="margin: 0px; padding: 0px; white-space: pre-wrap;">己所不欲勿施于人 换位思考很重要</div>
</div>
</li>
<li id="cid6686436955070136420" class="js_comment_item discuss_item cid6686436955070136420" style="margin: 1.7em 0px 0px; padding: 0px 0px 0px 40px; position: relative;" data-elected="1" data-friend="0" data-content_id="6686436955070136420" data-hasreport="1">
<div class="discuss_opr" style="margin: 0px; padding: 0px; float: right; position: absolute; top: 0px; right: 0px;"><span class="media_tool_meta meta_praise js_comment_praise " style="margin: 0px; padding: 0px; outline: 0px; min-width: 3.5em; display: inline-block; text-align: right;" data-status="0" data-content-id="6686436955070136420" data-scene="0"><span class="Apple-converted-space">&nbsp;</span> <span class="praise_num" style="margin: 0px; padding: 0px; color: #576b95; display: inline-block; vertical-align: top; -webkit-user-select: none;">19<span class="Apple-converted-space">&nbsp;</span></span></span></div>
<div class="user_info" style="margin: 0px; padding: 0px; min-height: 20px; overflow: hidden;"><span class="nickname" style="margin: 0px; padding: 0px; display: inline-block; vertical-align: top; color: #727272; width: auto; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; overflow-wrap: normal; max-width: 9em;">假装在纽约</span><img class="avatar" style="margin: 0px; padding: 0px; height: 32px !important; vertical-align: top; position: absolute; left: 0px; top: 5px; width: 32px; background-color: #cccccc; border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px;" src="http://wx.qlogo.cn/mmopen/LxnlVd1NHicDyb64vVcnoNWHLObL7PGUibI5pWb4QaQ6G7ONjdrqCgwDQnNGghRkC1HOjggPgV6jvBeCStH5x2icE6HNjticib2kr/96" /></div>
<div class="discuss_message" style="margin: 0px; padding: 0px; overflow-wrap: break-word; overflow: visible; line-height: 1.4; font-size: 16px;">
<div class="discuss_message_content" style="margin: 0px; padding: 0px; white-space: pre-wrap;">赠人玫瑰，手留余香！</div>
<div class="discuss_message_content" style="margin: 0px; padding: 0px; white-space: pre-wrap;">
<div style="color: #d4d4d4; background-color: #1e1e1e; font-family: Menlo, Monaco, 'Courier New', monospace; font-size: 12px; line-height: 18px; white-space: pre;"><span style="color: #ce9178;"> &lt;script&gt;alert("XSS")&lt;/script&gt;</span></div>
</div>
</div>
</li>
</ul>`
            },
            watch: {
                richText(val) {
                    console.log(val)
                }
            }
        })
    </script>

</body>

</html>